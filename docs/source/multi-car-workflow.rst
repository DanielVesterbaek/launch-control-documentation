Multi-Car Workflow
===================================
To animate multiple vehicles with Launch Control, the Multi-Car Workflow can be used.




.. _multi-getting-started:
Getting Started with Multi-Car
------

When using the Multi-Car workflow everything that happens inside Launch Control depends on the "Active Vehicle", which can be set using the :ref:`vehicle-collection`.
Anything clicked or changed in the Add-on UI will affect the "Active Vehicle".

To get started, rig your vehicles one by one using the normal rigging workflow or try out the experimental :ref:`multi-rigging` feature.

Handy tools make it easier to work with

.. figure:: gif/DOC_MultiWork.gif
    :alt: Multi Car Gif
    :class: with-shadow
    :width: 800px
    :align: center

    Example of working with the Multi-Car Workflow



.. _multi-ground-detection:
Ground Detection for Multi-Car
------

Ground Detection works the same way for Multi-Car as for a Single-Car workflow, with the difference that the ground is now shared between all the vehicles in the scene and not just affecting one vehicle. See :ref:`ground-detection`
The Colliders generated by the Animation Presets are removed from the scene if the vehicle which generated it is removed, but user added colliders are kept no matter what.



.. _multi-edit:
Multi-Edit
------

To adjust multiple vehicles at ones, enable the "Multi-Edit" mode.
In this mode all cars are affected by the buttons clicked and the values changed in the Add-on UI.

.. note::
    Some buttons and sliders are not compatible with the Multi-Edit mode.

.. figure:: gif/DOC_MultiEdit.gif
    :alt: Multi Edit Gif
    :class: with-shadow
    :width: 800px
    :align: center

    Example of using Multi-Edit to adjust multiple vehicles at once

.. note::
    It is also possible to select multiple armatures/rigs and go into "Pose-Mode" on all of them at the same time, allowing you to animate multiple cars at once.


.. _select_active:
Set Selected
------

To quickly set the "Active Vehicle", use the "Set Selected" button.
It will change it to whatever vehicle is selected in the 3D View if the selected object in the 3D View is either part of a vehicle or a LC vehicle rig.

.. figure:: gif/DOC_MultiSelect.gif
    :alt: Multi Select Gif
    :class: with-shadow
    :width: 800px
    :align: center

    Using "Select Active" button to change the "Active Car" to the vehicle which is selected in the 3D View


.. _multi-export:
Export with Multi-Car
------
Export to Datasmith works the same way for Multi-Car as for Single-Car. The file exported is a scene file and holds all vehicles in 1 file. 

For FBX exports, the vehicles are split into separate files.
Ground Colliders can be exported with each file or only once in the fbx-file of the active vehicle.

.. _multi-rigging:
Multi-Rigging [Experimental]
------

It is possible to rig all Vehicles in the scene at once using the experimental "Multi-Rigging" function. 

.. warning::
    This only works if the scene has collections with LC-ready car models in them. If any other collections exist in the scene, the rigging will fail.

.. figure:: gif/DOC_MultiRigging.gif
    :alt: Multi Rig Gif
    :class: with-shadow
    :width: 800px
    :align: center

    Rigging multiple vehicles at ones using Multi-Rigging

To succesfully rig all the cars make sure they all have the required :ref:`rigging-tags`.
